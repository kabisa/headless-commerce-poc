
name: GitHub Actions Vercel Deploy
on: [push]
jobs:
  build_and_deploy:
    name: Build & Deploy
    runs-on: ubuntu-latest
    steps:
#       - name: Setup Node.js environment
#         uses: actions/setup-node@v2.1.5
#         with:
#           # Version Spec of the version to use.  Examples: 12.x, 10.15.1, >=10.15.0
#           node-version: 14.x
#       - run: npm install --global yarn
#       - name: Check out repository code
#         uses: actions/checkout@v2
      - name: copy .env
        run: cp framework/shopify/.env.template .env.local
#       - run: ls
#       - run: yarn install
#       - run: yarn run build
#       - run: ls

      - name: Vercel Action
        # You may pin to the exact commit or the version.
        # uses: amondnet/vercel-action@19401105a3ed55b9ad1153ec4b9c5aeb6a56df5d
        uses: amondnet/vercel-action@v20.0.0
        id: vercel-action
        with:
          # Vercel token
          vercel-token: yXpD9B1UQ48ixgz5PaHbtC9j
  #         vercel-args: # optional, default is 
          # if you want to comment on pr and commit, set true, default: true
  #         github-comment: # optional, default is true
          # if you want to comment on pr and commit, set token
          github-token: ${{ secrets.PERSONAL_TOKEN_GITHUB }}
          # if you want to create github deployment, set true, default: false
  #         github-deployment: # optional, default is false
          # the working directory
#           working-directory: .next
          # Vercel CLI 17+, ❗️  The `name` property in vercel.json is deprecated (https://zeit.ink/5F)
          vercel-project-id: prj_ZGX8fkQ1nWJmobraXgELoO8uU6dk
          # Vercel CLI 17+, ❗️  The `name` property in vercel.json is deprecated (https://zeit.ink/5F)
          vercel-org-id: YS1zeOc6zcgMQJK3ExDOxrrO
          # The name of the project; if absent we'll use the `vercel inspect` command to determine.
#           vercel-project-name: headless-commerce-poc-github-actions-deploy # optional
          # If you are work in team scope, you should set this value to your team id.
  #         scope: # optional
          # zeit.co token
  #         zeit-token: 
          # 
  #         now-args: # optional, default is 
          # Vercel CLI 17+, ❗️  The `name` property in vercel.json is deprecated (https://zeit.ink/5F)
  #         now-project-id: # optional
          # Vercel CLI 17+, ❗️  The `name` property in vercel.json is deprecated (https://zeit.ink/5F)
  #         now-org-id: # optional
          # You can assign a domain to this deployment. Please note that this domain must have been configured in the project. You can use pull request number via `{{PR_NUMBER}}` and branch via `{{BRANCH}}`
  #         alias-domains: # optional, default is 
